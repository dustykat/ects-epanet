
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Building OWA EPANET From Source on Windows &#8212; Hydraulic Network Simulation with EPANET and Python</title>
    
  <link href="../../../../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../../../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../_static/jquery.js"></script>
    <script src="../../../../../_static/underscore.js"></script>
    <script src="../../../../../_static/doctools.js"></script>
    <script src="../../../../../_static/togglebutton.js"></script>
    <script src="../../../../../_static/clipboard.min.js"></script>
    <script src="../../../../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../../../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../../../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Hydraulic Network Simulation with EPANET and Python</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../intro.html">
   About this book
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../../lesson01/introduction.html">
   1 Hydraulic Networks and Python
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lesson01/hydraulic-networks.html">
     1.2 Network Hydraulics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lesson01/pythonjupyter.html">
     1.3 Python/Jupyter Introduction
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lesson01/pythonhydraulics.html">
     1.4 Hydraulics in Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lesson01/pythonhydraulicsmodule.html">
     1.5 The
     <code class="docutils literal notranslate">
      <span class="pre">
       pipenet
      </span>
     </code>
     module
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lesson01/pythonpumpingmodule.html">
     1.6 Pumps
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../../lesson02/epanet-classic.html">
   2 EPANET Intro/Examples
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lesson02/epanet-gui.html">
     2.2 EPANET GUI Examples
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lesson02/epanet-eps.html">
     2.3 Extended period simulation (EPS)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lesson02/epanet-watq.html">
     2.4 Water Quality Simulation in EPANET
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lesson02/epanet-rules.html">
     2.5 EPANET Control Rules
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../epanet-toolkit.html">
   3 EPANET Programmers Toolkit
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../epanet-rulesGUI.html">
     3.2 EPANET example using
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../epanet-rulesCLI.html">
     3.3 EPANET example using the Toolkit
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../epanet-rulesAPI.html">
     3.4 EPANET example using the Toolkit
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../epanet-sensors.html">
     3.5 EPANET Sensors integration
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../../lesson04/epanet-future-CandC1.html">
   4 Command and Control
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lesson04/epanet-future-CandC2.html">
     4.2 CandC
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lesson04/epanet-future-CandC3.html">
     4.X Build Notes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lesson04/epanet-future.html">
     4.4 Unsolved Problems
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lesson04/epanet-exam.html">
     4.5 EPANET Exam
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../../../_sources/lessons/lesson03/en2toolkit/EPANET/tools/BuildAndTest.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/executablebooks/jupyter-book"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Flessons/lesson03/en2toolkit/EPANET/tools/BuildAndTest.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dependencies">
   Dependencies
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summary-of-build-dependencies">
   Summary of Build Dependencies
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#build-procedure">
   Build Procedure
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#further-reading">
   Further Reading
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="building-owa-epanet-from-source-on-windows">
<h1>Building OWA EPANET From Source on Windows<a class="headerlink" href="#building-owa-epanet-from-source-on-windows" title="Permalink to this headline">¶</a></h1>
<p>by Michael E. Tryby</p>
<p>Created on: March 13, 2018</p>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Building OWA’s fork of EPANET from source is a basic skill that all developers
interested in contributing to the project should know how to perform. This
document describes the build process step-by-step. You will learn 1) how to
configure your machine to build the project locally; 2) how to obtain the
project files using git; 3) how to use cmake to generate build files and build
the project; and 4) how to use ctest and nrtest to perform unit and regression
testing on the build artifacts produced. Be advised, you will need local admin
privileges on your machine to follow this tutorial. Let?s begin!</p>
</div>
<div class="section" id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<p>Before the project can be built the required tools must be installed. The OWA
EPANET project adheres to a platform compiler policy - for each platform there
is a designated compiler. The platform compiler for Windows is Visual
Studio cl, for Linux gcc, and for Mac OS clang. These instructions describe how
to build EPANET on Windows. CMake is a cross platform build, testing, and packaging
tool that is used to automate the EPANET build workflow. Boost is a free portable
peer-reviewed C++ library. Unit tests are linked with Boost unit test libraries.
Lastly, git is a free and open source distributed version control system. Git must
be installed to obtain the project source code from the OWA EPANET repository
found on GitHub.</p>
</div>
<div class="section" id="summary-of-build-dependencies">
<h2>Summary of Build Dependencies<a class="headerlink" href="#summary-of-build-dependencies" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Platform Compiler</p>
<ul>
<li><p>Windows: Visual Studio 10.0 32-bit cl (version 16.00.40219.01 for 80x86)</p></li>
</ul>
</li>
<li><p>CMake (version 3.0.0 or greater)</p></li>
<li><p>Boost Libraries (version 1.58 or greater)</p></li>
<li><p>git (version 2.6.0 or greater)</p></li>
</ul>
</div>
<div class="section" id="build-procedure">
<h2>Build Procedure<a class="headerlink" href="#build-procedure" title="Permalink to this headline">¶</a></h2>
<ol class="simple">
<li><p>Install Dependencies</p></li>
</ol>
<ul>
<li><p>A. Install Visual Studio 2010 Express and SP1
Our current benchmark platform and compiler is Windows 32-bit Visual Studio 10
2010. Older versions of Visual Studio are available for download here:</p>
<p><a class="reference external" href="https://www.visualstudio.com/vs/older-downloads/">https://www.visualstudio.com/vs/older-downloads/</a></p>
<p>A service pack for Visual Studio 10 2010 is available here:</p>
<p><a class="reference external" href="https://www.microsoft.com/en-us/download/details.aspx?id=34677">https://www.microsoft.com/en-us/download/details.aspx?id=34677</a></p>
</li>
<li><p>B. Install Boost
Boost binaries for Windows offer a convenient installation solution. Be sure to
select for download the boost installer exe that corresponds to the version of Visual Studio you have installed.</p>
<p><a class="reference external" href="https://sourceforge.net/projects/boost/files/boost-binaries/1.58.0/">https://sourceforge.net/projects/boost/files/boost-binaries/1.58.0/</a></p>
<p>Although newer version of Boost are available, a link to Boost 1.58 is provided. This is the library version that the unit tests have been written against. Older versions of Boost may not work. The default install location for the Boost
Libraries is C:\local\boost_1_58_0</p>
</li>
<li><p>C. Install Chocolatey, CMake, and git
Chocolatey is a Windows package manager that makes installing some of these
dependencies a little easier. When working with Chocolatey it is useful to have
local admin privileges. Chocolatey is available here:</p>
<p><a class="reference external" href="https://chocolatey.org/install">https://chocolatey.org/install</a></p>
<p>Once Chocolately is installed, from a command prompt running with admin privileges
issue the following commands</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="o">&gt;</span><span class="n">choco</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">cmake</span> <span class="o">--</span><span class="n">installargs</span> <span class="s1">&#39;ADD_CMAKE_TO_PATH=User&#39;</span>
\<span class="o">&gt;</span><span class="n">choco</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">git</span> <span class="o">--</span><span class="n">installargs</span> <span class="o">/</span><span class="n">GitOnlyOnPath</span>
\<span class="o">&gt;</span><span class="n">refreshenv</span>
</pre></div>
</div>
</li>
<li><p>D. Common Problems
Using chocolatey requires a command prompt with admin privileges.
Check to make sure installed applications are on the command path.
Make note of the Boost Library install location.</p></li>
</ul>
<ol class="simple">
<li><p>Build The Project
As administrator open a Visual Studio 2010 Command Prompt. Change directories to
the location where you wish to build the EPANET project. Now we will issue a series
of commands to create a parent directory for the project root and clone the project
from OWA’s GitHub repository.</p></li>
</ol>
<ul>
<li><p>A. Clone the EPANET Repository</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="o">&gt;</span><span class="n">mkdir</span> <span class="n">OWA</span>
\<span class="o">&gt;</span><span class="n">cd</span> <span class="n">OWA</span>
\<span class="o">&gt;</span><span class="n">git</span> <span class="n">clone</span> <span class="o">--</span><span class="n">branch</span><span class="o">=</span><span class="n">dev</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">OpenWaterAnalytics</span><span class="o">/</span><span class="n">EPANET</span><span class="o">.</span><span class="n">git</span>
\<span class="o">&gt;</span><span class="n">cd</span> <span class="n">EPANET</span>
</pre></div>
</div>
</li>
</ul>
<p>The present working directory is now the project root EPANET. The directory contains
the same files that are visibly present in the GitHub Repo by browsing to the URL
<a class="reference external" href="https://github.com/OpenWaterAnalytics/EPANET/tree/dev">https://github.com/OpenWaterAnalytics/EPANET/tree/dev</a>.</p>
<p>Now we will create a build products directory and generate the platform build
file using cmake.</p>
<ul>
<li><p>B. Generate the build files</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="o">&gt;</span><span class="n">mkdir</span> <span class="n">buildprod</span>
\<span class="o">&gt;</span><span class="n">cd</span> <span class="n">buildprod</span>
\<span class="o">&gt;</span><span class="nb">set</span> <span class="n">BOOST_ROOT</span><span class="o">=</span><span class="n">C</span><span class="p">:</span>\<span class="n">local</span>\<span class="n">boost_1_58_0</span>
\<span class="o">&gt;</span><span class="n">cmake</span> <span class="o">-</span><span class="n">G</span> <span class="s2">&quot;Visual Studio 10 2010&quot;</span> <span class="o">-</span><span class="n">DBOOST_ROOT</span><span class="o">=</span><span class="s2">&quot;%BOOST_ROOT%&quot;</span> <span class="o">-</span><span class="n">DBoost_USE_STATIC_LIBS</span><span class="o">=</span><span class="s2">&quot;ON&quot;</span> <span class="o">..</span>
</pre></div>
</div>
</li>
</ul>
<p>Now that the dependencies have been installed and the build system has been
generated, building EPANET is a simple CMake command.</p>
<ul class="simple">
<li><p>C. Build EPANET
&gt;cmake –build . –config Debug</p></li>
<li><p>D. Common Problems
CMake may not be able to find the project CMakeLists.txt file or the Boost
library install location.</p></li>
</ul>
<ol class="simple">
<li><p>Testing
Unit Testing uses Boost Unit Test library and CMake ctest as the test runner.
Cmake has been configured to register tests with ctest as part of the build process.</p></li>
</ol>
<ul>
<li><p>A. Unit Testing</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="o">&gt;</span><span class="n">cd</span> <span class="n">tests</span>
\<span class="o">&gt;</span><span class="n">ctest</span> <span class="o">-</span><span class="n">C</span> <span class="n">Debug</span>
</pre></div>
</div>
</li>
</ul>
<p>The unit tests run quietly. Ctest redirects stdout to a log file which can be
found in the “tests\Testing\Temporary” folder. This is useful when a test fails.</p>
<p>Regression testing is somewhat more complicated because it relies on Python
to execute EPANET for each test and compare the binary files and report files.
To run regression tests first python and any required packages must be installed.
If Python is already installed on your local machine the installation of
miniconda can be skipped.</p>
<ul>
<li><p>B. Installing Regression Testing Dependencies</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">..</span>\<span class="o">..</span>
\<span class="o">&gt;</span><span class="n">choco</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">miniconda</span> <span class="o">--</span><span class="n">installargs</span> <span class="s1">&#39;/AddToPath=1&#39;</span>
\<span class="o">&gt;</span><span class="n">choco</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">curl</span>
\<span class="o">&gt;</span><span class="n">choco</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="mi">7</span><span class="nb">zip</span> 
\<span class="o">&gt;</span><span class="n">refreshenv</span>
\<span class="o">&gt;</span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">tools</span><span class="o">/</span><span class="n">requirements</span><span class="o">-</span><span class="n">appveyor</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
</li>
</ul>
<p>With Python and the necessary dependencies installed, regression testing can be run
using the before-test and run-nrtest helper scripts found in the tools folder. The script
before-test stages the test and benchmark files for nrtest. The script run-nrtest calls
nrtest execute and nrtest compare to perform the regression test.</p>
<p>To run the executable under test, nrtest needs the absolute path to it and a
unique identifier for it such as the version number. The project cmake build places build
artifacts in the buildprod\bin\ folder. On Windows the build configuration “Debug” or
“Release” must also be indicated. On Windows it is also necessary to specify the path to
the Python Scripts folder so the nrtest execute and compare commands can be found. You
need to substitute bracketed fields below like “<build identifier>” with the values for
your setup.</p>
<ul>
<li><p>C. Regression Testing</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="o">&gt;</span><span class="n">tools</span>\<span class="n">before</span><span class="o">-</span><span class="n">test</span><span class="o">.</span><span class="n">cmd</span> <span class="o">&lt;</span><span class="n">relative</span> <span class="n">path</span> <span class="n">to</span> <span class="n">regression</span> <span class="n">test</span> <span class="n">location</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">absolute</span> <span class="n">path</span> <span class="n">to</span> <span class="n">exe</span> <span class="n">under</span> <span class="n">test</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">build</span> <span class="n">identifier</span><span class="o">&gt;</span>
\<span class="o">&gt;</span><span class="n">tools</span>\<span class="n">run</span><span class="o">-</span><span class="n">nrtest</span><span class="o">.</span><span class="n">cmd</span> <span class="o">&lt;</span><span class="n">absolute</span> <span class="n">path</span> <span class="n">to</span> <span class="n">python</span> <span class="n">scripts</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">relative</span> <span class="n">path</span> <span class="n">to</span> <span class="n">regression</span> <span class="n">test</span> <span class="n">location</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">build</span> <span class="n">identifier</span><span class="o">&gt;</span>
</pre></div>
</div>
</li>
<li><p>D. Common Problems
The batch file before-test.cmd needs to run with admin privileges. The nrtest script complains when it can’t find manifest files.</p></li>
</ul>
<p>That concludes this tutorial on building OWA EPANET from source on Windows.
You have learned how to configure your machine satisfying project dependencies
and how to acquire, build, and test EPANET on your local machine. To be sure,
there is a lot more to learn, but this is a good start! Learn more about project
build and testing dependencies by following the links provided below.</p>
</div>
<div class="section" id="further-reading">
<h2>Further Reading<a class="headerlink" href="#further-reading" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Visual Studio - <a class="reference external" href="https://msdn.microsoft.com/en-us/library/dd831853(v=vs.100).aspx">https://msdn.microsoft.com/en-us/library/dd831853(v=vs.100).aspx</a></p></li>
<li><p>CMake - <a class="reference external" href="https://cmake.org/documentation/">https://cmake.org/documentation/</a></p></li>
<li><p>Boost - <a class="reference external" href="http://www.boost.org/doc/">http://www.boost.org/doc/</a></p></li>
<li><p>git - <a class="reference external" href="https://git-scm.com/doc">https://git-scm.com/doc</a></p></li>
<li><p>Miniconda - <a class="reference external" href="https://conda.io/docs/user-guide/index.html">https://conda.io/docs/user-guide/index.html</a></p></li>
<li><p>curl - <a class="reference external" href="https://curl.haxx.se/">https://curl.haxx.se/</a></p></li>
<li><p>7zip - <a class="reference external" href="https://www.7-zip.org/">https://www.7-zip.org/</a></p></li>
<li><p>nrtest - <a class="reference external" href="https://nrtest.readthedocs.io/en/latest/">https://nrtest.readthedocs.io/en/latest/</a></p></li>
</ul>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./lessons/lesson03/en2toolkit/EPANET/tools"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Theodore G. Cleveland, Ph.D., P.E., M.ASCE, F.EWRI<br/>
        
            &copy; Copyright 2023.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../../../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>