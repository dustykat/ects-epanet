
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>1.5 The pipenet module &#8212; Hydraulic Network Simulation with EPANET and Python</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'lessons/lesson01/pythonhydraulicsmodule';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="1.6 Pumps" href="pythonpumpingmodule.html" />
    <link rel="prev" title="1.4 Hydraulics in Python" href="pythonhydraulics.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.png" class="logo__image only-light" alt="Hydraulic Network Simulation with EPANET and Python - Home"/>
    <script>document.write(`<img src="../../_static/logo.png" class="logo__image only-dark" alt="Hydraulic Network Simulation with EPANET and Python - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    About this book
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="introduction.html">1 Hydraulic Networks and Python</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="hydraulic-networks.html">1.2 Network Hydraulics</a></li>
<li class="toctree-l2"><a class="reference internal" href="pythonjupyter.html">1.3 Python/Jupyter Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="pythonhydraulics.html">1.4 Hydraulics in Python</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">1.5 The <code class="docutils literal notranslate"><span class="pre">pipenet</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pythonpumpingmodule.html">1.6 Pumps</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../lesson02/epanet-classic.html">2 EPANET Intro/Examples</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../lesson02/epanet-gui.html">2.2 EPANET GUI Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lesson02/epanet-eps.html">2.3 Extended period simulation (EPS)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lesson02/epanet-watq.html">2.4 Water Quality Simulation in EPANET</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lesson02/epanet-rules.html">2.5 EPANET Control Rules</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../lesson03/epanet-toolkit.html">3 EPANET Programmers Toolkit</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../lesson03/epanet-rulesGUI.html">3.2 EPANET (Examples 1 and 2) using the Toolkit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lesson03/epanet-rulesCLI.html">3.3 EPANET (Examples 3-5) using the Toolkit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lesson03/epanet-rulesAPI.html">3.4 EPANET Control Rules using the Toolkit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lesson03/epanet-sensors.html">3.5 EPANET Sensors Integration</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../lesson04/epanet-future-CandC1.html">4 Command and Control</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../lesson04/epanet-future-CandC2.html">4.2 CandC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lesson04/epanet-future-CandC3.html">4.X Build Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lesson04/epanet-future.html">4.4 Unsolved Problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lesson04/epanet-exam.html">4.5 EPANET Exam</a></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Flessons/lesson01/pythonhydraulicsmodule.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/lessons/lesson01/pythonhydraulicsmodule.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>1.5 The pipenet module</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#example-2">Example 2:</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#known">Known</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#unknown">Unknown</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#governing-principles">Governing Principles</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analysis">Analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#build-input-file">Build Input File</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#interpret-results-and-discussion">Interpret Results and Discussion</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#example-3">Example 3:</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Interpret Results and Discussion</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#readings">Readings</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="the-pipenet-module">
<h1>1.5 The <code class="docutils literal notranslate"><span class="pre">pipenet</span></code> module<a class="headerlink" href="#the-pipenet-module" title="Link to this heading">#</a></h1>
<p>With the entire script as a module, we just load the module when we need it.  To do this we simply took the contents of the <code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">pipenet()</span></code> cell and copy and paste into a text file, then name the textfile something memorableful - in my case <code class="docutils literal notranslate"><span class="pre">pipenet.py</span></code></p>
<p>To use the module either load it into your python kernel or locate it in the directory where you are working and import the module as illustrated below, because our desired entry point shares the same name as the file, i used a weird syntax. The more convential method is also shown.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Now import the module (observe the semi-weird syntax)</span>
<span class="kn">from</span> <span class="nn">pipenet</span> <span class="kn">import</span> <span class="n">pipenet</span>
<span class="c1"># Now run the simulation </span>
<span class="n">pipenet</span><span class="p">(</span><span class="s1">&#39;PN-E2.txt&#39;</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>####ECHO INPUT################
Input File:  PN-E2.txt
number of nodes :  4
number of pipes :  6
viscosity       :  1.1e-05
-----------------------------
node id: 0 , elevation : 0.0  head : 0.0
node id: 1 , elevation : 0.0  head : 0.0
node id: 2 , elevation : 0.0  head : 0.0
node id: 3 , elevation : 0.0  head : 0.0
-----------------------------
pipe id: 0 , diameter :  10.0 , distance :  10.0 , roughness :  1e-05 , flow  :  1.0
pipe id: 1 , diameter :  0.67 , distance :  800.0 , roughness :  1e-05 , flow  :  1.0
pipe id: 2 , diameter :  0.67 , distance :  700.0 , roughness :  1e-05 , flow  :  1.0
pipe id: 3 , diameter :  0.67 , distance :  700.0 , roughness :  1e-05 , flow  :  1.0
pipe id: 4 , diameter :  0.67 , distance :  800.0 , roughness :  1e-05 , flow  :  1.0
pipe id: 5 , diameter :  0.5 , distance :  600.0 , roughness :  1e-05 , flow  :  1.0
-----------------------------
node-arc incidence matrix
[1.0, -1.0, 0.0, -1.0, 0.0, 0.0]
[0.0, 1.0, -1.0, 0.0, 0.0, 1.0]
[0.0, 0.0, 0.0, 1.0, -1.0, -1.0]
[0.0, 0.0, 1.0, 0.0, 1.0, 0.0]
-----------------------------
###EXIT TYPE###
Update not changing --exit and report current update
iteration 39
#####SIMULATION RESULTS#####
Results at iteration = : 39
number of nodes :  4
number of pipes :  6
viscosity       :  1.1e-05
-----------------------------
node id: 1 , elevation (feet) : 0.0  head (feet) : 100.0  pressure (psi) : 44.697
node id: 2 , elevation (feet) : 0.0  head (feet) : 90.292  pressure (psi) : 40.358
node id: 3 , elevation (feet) : 0.0  head (feet) : 91.673  pressure (psi) : 40.975
node id: 4 , elevation (feet) : 0.0  head (feet) : 89.815  pressure (psi) : 40.145
-----------------------------
pipe id: 1 , diameter (feet) :  10.0 , distance (feet) :  10.0 , friction factor :  0.03 , flow (cfs) :  10.0
pipe id: 2 , diameter (feet) :  0.67 , distance (feet) :  800.0 , friction factor :  0.016 , flow (cfs) :  4.04
pipe id: 3 , diameter (feet) :  0.67 , distance (feet) :  700.0 , friction factor :  0.016 , flow (cfs) :  0.227
pipe id: 4 , diameter (feet) :  0.67 , distance (feet) :  700.0 , friction factor :  0.016 , flow (cfs) :  3.96
pipe id: 5 , diameter (feet) :  0.67 , distance (feet) :  800.0 , friction factor :  0.016 , flow (cfs) :  0.773
pipe id: 6 , diameter (feet) :  0.5 , distance (feet) :  600.0 , friction factor :  0.015 , flow (cfs) :  0.187
-----------------------------
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Now import the module (conventional syntax)</span>
<span class="kn">import</span> <span class="nn">pipenet</span>
<span class="c1"># Now run the simulation </span>
<span class="n">pipenet</span><span class="o">.</span><span class="n">pipenet</span><span class="p">(</span><span class="s1">&#39;PN-E2.txt&#39;</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>####ECHO INPUT################
Input File:  PN-E2.txt
number of nodes :  4
number of pipes :  6
viscosity       :  1.1e-05
-----------------------------
node id: 0 , elevation : 0.0  head : 0.0
node id: 1 , elevation : 0.0  head : 0.0
node id: 2 , elevation : 0.0  head : 0.0
node id: 3 , elevation : 0.0  head : 0.0
-----------------------------
pipe id: 0 , diameter :  10.0 , distance :  10.0 , roughness :  1e-05 , flow  :  1.0
pipe id: 1 , diameter :  0.67 , distance :  800.0 , roughness :  1e-05 , flow  :  1.0
pipe id: 2 , diameter :  0.67 , distance :  700.0 , roughness :  1e-05 , flow  :  1.0
pipe id: 3 , diameter :  0.67 , distance :  700.0 , roughness :  1e-05 , flow  :  1.0
pipe id: 4 , diameter :  0.67 , distance :  800.0 , roughness :  1e-05 , flow  :  1.0
pipe id: 5 , diameter :  0.5 , distance :  600.0 , roughness :  1e-05 , flow  :  1.0
-----------------------------
node-arc incidence matrix
[1.0, -1.0, 0.0, -1.0, 0.0, 0.0]
[0.0, 1.0, -1.0, 0.0, 0.0, 1.0]
[0.0, 0.0, 0.0, 1.0, -1.0, -1.0]
[0.0, 0.0, 1.0, 0.0, 1.0, 0.0]
-----------------------------
###EXIT TYPE###
Update not changing --exit and report current update
iteration 39
#####SIMULATION RESULTS#####
Results at iteration = : 39
number of nodes :  4
number of pipes :  6
viscosity       :  1.1e-05
-----------------------------
node id: 1 , elevation (feet) : 0.0  head (feet) : 100.0  pressure (psi) : 44.697
node id: 2 , elevation (feet) : 0.0  head (feet) : 90.292  pressure (psi) : 40.358
node id: 3 , elevation (feet) : 0.0  head (feet) : 91.673  pressure (psi) : 40.975
node id: 4 , elevation (feet) : 0.0  head (feet) : 89.815  pressure (psi) : 40.145
-----------------------------
pipe id: 1 , diameter (feet) :  10.0 , distance (feet) :  10.0 , friction factor :  0.03 , flow (cfs) :  10.0
pipe id: 2 , diameter (feet) :  0.67 , distance (feet) :  800.0 , friction factor :  0.016 , flow (cfs) :  4.04
pipe id: 3 , diameter (feet) :  0.67 , distance (feet) :  700.0 , friction factor :  0.016 , flow (cfs) :  0.227
pipe id: 4 , diameter (feet) :  0.67 , distance (feet) :  700.0 , friction factor :  0.016 , flow (cfs) :  3.96
pipe id: 5 , diameter (feet) :  0.67 , distance (feet) :  800.0 , friction factor :  0.016 , flow (cfs) :  0.773
pipe id: 6 , diameter (feet) :  0.5 , distance (feet) :  600.0 , friction factor :  0.015 , flow (cfs) :  0.187
-----------------------------
</pre></div>
</div>
</div>
</div>
<p>Now that we have a compact (to us) tool we can explore different problems.</p>
<section id="example-2">
<h2>Example 2:<a class="headerlink" href="#example-2" title="Link to this heading">#</a></h2>
<p>For the given source and loads shown, how will the flow be distributed in the network, and what will be the pressures at the nodes, if the source pressure is <span class="math notranslate nohighlight">\(60~psi\)</span>.  The pipes are all horizontal, and the pipes are HDPE?</p>
<figure class="align-default" id="example2-15">
<a class="reference internal image-reference" href="../../_images/example2-15.png"><img alt="../../_images/example2-15.png" src="../../_images/example2-15.png" style="width: 400px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 8 </span><span class="caption-text">Pipe network for Example 2</span><a class="headerlink" href="#example2-15" title="Link to this image">#</a></p>
</figcaption>
</figure>
<section id="known">
<h3>Known<a class="headerlink" href="#known" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Node-arc matrix</p></li>
<li><p>Pipe lengths</p></li>
<li><p>Pipe diameters</p></li>
<li><p>Material</p></li>
<li><p>Node elevations (we will have to assume a value)</p></li>
</ol>
</section>
<section id="unknown">
<h3>Unknown<a class="headerlink" href="#unknown" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Pressures at each node</p></li>
<li><p>Discharge in each pipe</p></li>
</ol>
</section>
<section id="governing-principles">
<h3>Governing Principles<a class="headerlink" href="#governing-principles" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Continunity at nodes</p></li>
<li><p>Head loss in pipes (Darcy-Weisbach model)</p></li>
<li><p>Energy unique at nodes</p></li>
</ol>
</section>
<section id="analysis">
<h3>Analysis<a class="headerlink" href="#analysis" title="Link to this heading">#</a></h3>
<p>Use method of <a class="reference external" href="http://54.243.252.9/ce-3372-webroot/3-Readings/HamamAndBrameller/">Hamam, Y.M., and Brameller, A. (1971)</a>.</p>
<section id="build-input-file">
<h4>Build Input File<a class="headerlink" href="#build-input-file" title="Link to this heading">#</a></h4>
<figure class="align-default" id="img-6194">
<a class="reference internal image-reference" href="../../_images/IMG-6194.png"><img alt="../../_images/IMG-6194.png" src="../../_images/IMG-6194.png" style="width: 400px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 9 </span><span class="caption-text">Pipe network notations for Example 2 input file build</span><a class="headerlink" href="#img-6194" title="Link to this image">#</a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>5 nodes (plus a 6-th supply node in this example it is node 0)</p></li>
<li><p>7 pipes (the supply pipe (pink arrow) at node 1 is set as a short  and large diameter pipe, pipe P7)</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">5</span>
<span class="mi">7</span>
</pre></div>
</div>
<ul class="simple">
<li><p>node elevations</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
</pre></div>
</div>
<p>Pipe diameters</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">2.0</span> <span class="mf">0.83</span> <span class="mf">1.0</span> <span class="mf">1.0</span> <span class="mf">0.75</span> <span class="mf">0.83</span> <span class="mf">10.0</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Pipe lengths</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1000</span> <span class="mi">1410</span> <span class="mi">1000</span> <span class="mi">1000</span> <span class="mi">1000</span> <span class="mi">1000</span> <span class="mi">10</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Pipe roughness heights (based on material)</p></li>
</ul>
<figure class="align-default" id="hdpe-roughness">
<a class="reference internal image-reference" href="../../_images/HDPE-roughness.png"><img alt="../../_images/HDPE-roughness.png" src="../../_images/HDPE-roughness.png" style="width: 400px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 10 </span><span class="caption-text">Source for HDPE roughness approximation</span><a class="headerlink" href="#hdpe-roughness" title="Link to this image">#</a></p>
</figcaption>
</figure>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">0.00001</span> <span class="mf">0.00001</span> <span class="mf">0.00001</span> <span class="mf">0.00001</span> <span class="mf">0.00001</span> <span class="mf">0.00001</span> <span class="mf">0.00001</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Viscosity</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">0.000011</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Initial Discharge Vector (just use ones)</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>
</pre></div>
</div>
<ul class="simple">
<li><p>The node-arc matrix</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="mi">1</span> <span class="o">-</span><span class="mi">1</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">1</span>
<span class="mi">1</span> <span class="mi">0</span> <span class="o">-</span><span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span>
<span class="mi">0</span> <span class="mi">0</span>  <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="o">-</span><span class="mi">1</span> <span class="mi">0</span>
<span class="mi">0</span> <span class="mi">0</span>  <span class="mi">0</span> <span class="o">-</span><span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> 
<span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> 
</pre></div>
</div>
<ul class="simple">
<li><p>The right-hand side (demands and node 0 head)</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span>  <span class="mi">0</span> <span class="mi">10</span>  <span class="mi">5</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span> <span class="o">-</span><span class="mf">134.25</span>  <span class="c1"># we will change the last value to get desired pressure at node 1</span>
</pre></div>
</div>
<p>Save this into a file named <code class="docutils literal notranslate"><span class="pre">L15-E2.txt</span></code></p>
<blockquote>
<div><p>L15-E2.txt</p>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">5</span>
<span class="mi">7</span>
<span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
<span class="mf">2.0</span> <span class="mf">0.83</span> <span class="mf">1.0</span> <span class="mf">1.0</span> <span class="mf">0.75</span> <span class="mf">0.83</span> <span class="mf">10.0</span>
<span class="mi">1000</span> <span class="mi">1410</span> <span class="mi">1000</span> <span class="mi">1000</span> <span class="mi">1000</span> <span class="mi">1000</span> <span class="mf">10.0</span>
<span class="mf">0.00001</span> <span class="mf">0.00001</span> <span class="mf">0.00001</span> <span class="mf">0.00001</span> <span class="mf">0.00001</span> <span class="mf">0.00001</span> <span class="mf">0.00001</span>
<span class="mf">0.000011</span>
<span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>
<span class="o">-</span><span class="mi">1</span> <span class="o">-</span><span class="mi">1</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">1</span>
<span class="mi">1</span> <span class="mi">0</span> <span class="o">-</span><span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span>
<span class="mi">0</span> <span class="mi">0</span>  <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="o">-</span><span class="mi">1</span> <span class="mi">0</span>
<span class="mi">0</span> <span class="mi">0</span>  <span class="mi">0</span> <span class="o">-</span><span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> 
<span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> 
<span class="mi">0</span>  <span class="mi">0</span> <span class="mi">10</span>  <span class="mi">5</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span> <span class="o">-</span><span class="mf">134.25</span> 

</pre></div>
</div>
<p>As before now run the script to generate the input file</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># A simple script to generate L15-E2.txt</span>
<span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;5</span>
<span class="s2">7</span>
<span class="s2">0 0 0 0 0 0</span>
<span class="s2">2.0 0.83 1.0 1.0 0.75 0.83 10.0</span>
<span class="s2">1000 1410 1000 1000 1000 1000 10.0</span>
<span class="s2">0.00001 0.00001 0.00001 0.00001 0.00001 0.00001 0.00001</span>
<span class="s2">0.000011</span>
<span class="s2">1 1 1 1 1 1 1 1 1 1 1 1</span>
<span class="s2">-1 -1  0  0  0  0  1</span>
<span class="s2">1 0 -1 0 1 0 0</span>
<span class="s2">0 0  1 0 0 -1 0</span>
<span class="s2">0 0  0 -1 0 1 0 </span>
<span class="s2">0 1 0 1 -1 0 0 </span>
<span class="s2">0  0 10  5  0  0  0  0  0  0  0 -134.25&quot;&quot;&quot;</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;L15-E2.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Now run the simulation </span>
<span class="n">pipenet</span><span class="o">.</span><span class="n">pipenet</span><span class="p">(</span><span class="s1">&#39;L15-E2.txt&#39;</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>####ECHO INPUT################
Input File:  L15-E2.txt
number of nodes :  5
number of pipes :  7
viscosity       :  1.1e-05
-----------------------------
node id: 0 , elevation : 0.0  head : 0.0
node id: 1 , elevation : 0.0  head : 0.0
node id: 2 , elevation : 0.0  head : 0.0
node id: 3 , elevation : 0.0  head : 0.0
node id: 4 , elevation : 0.0  head : -134.25
-----------------------------
pipe id: 0 , diameter :  2.0 , distance :  1000.0 , roughness :  1e-05 , flow  :  1.0
pipe id: 1 , diameter :  0.83 , distance :  1410.0 , roughness :  1e-05 , flow  :  1.0
pipe id: 2 , diameter :  1.0 , distance :  1000.0 , roughness :  1e-05 , flow  :  1.0
pipe id: 3 , diameter :  1.0 , distance :  1000.0 , roughness :  1e-05 , flow  :  1.0
pipe id: 4 , diameter :  0.75 , distance :  1000.0 , roughness :  1e-05 , flow  :  1.0
pipe id: 5 , diameter :  0.83 , distance :  1000.0 , roughness :  1e-05 , flow  :  1.0
pipe id: 6 , diameter :  10.0 , distance :  10.0 , roughness :  1e-05 , flow  :  1.0
-----------------------------
node-arc incidence matrix
[-1.0, -1.0, 0.0, 0.0, 0.0, 0.0, 1.0]
[1.0, 0.0, -1.0, 0.0, 1.0, 0.0, 0.0]
[0.0, 0.0, 1.0, 0.0, 0.0, -1.0, 0.0]
[0.0, 0.0, 0.0, -1.0, 0.0, 1.0, 0.0]
[0.0, 1.0, 0.0, 1.0, -1.0, 0.0, 0.0]
-----------------------------
###EXIT TYPE###
Update not changing --exit and report current update
iteration 40
#####SIMULATION RESULTS#####
Results at iteration = : 40
number of nodes :  5
number of pipes :  7
viscosity       :  1.1e-05
-----------------------------
node id: 1 , elevation (feet) : 0.0  head (feet) : 134.25  pressure (psi) : 60.006
node id: 2 , elevation (feet) : 0.0  head (feet) : 134.051  pressure (psi) : 59.917
node id: 3 , elevation (feet) : 0.0  head (feet) : 129.393  pressure (psi) : 57.835
node id: 4 , elevation (feet) : 0.0  head (feet) : 128.712  pressure (psi) : 57.53
node id: 5 , elevation (feet) : 0.0  head (feet) : 130.623  pressure (psi) : 58.384
-----------------------------
pipe id: 1 , diameter (feet) :  2.0 , distance (feet) :  1000.0 , friction factor :  0.02 , flow (cfs) :  12.6
pipe id: 2 , diameter (feet) :  0.83 , distance (feet) :  1410.0 , friction factor :  0.017 , flow (cfs) :  2.4
pipe id: 3 , diameter (feet) :  1.0 , distance (feet) :  1000.0 , friction factor :  0.017 , flow (cfs) :  10.636
pipe id: 4 , diameter (feet) :  1.0 , distance (feet) :  1000.0 , friction factor :  0.017 , flow (cfs) :  -4.364
pipe id: 5 , diameter (feet) :  0.75 , distance (feet) :  1000.0 , friction factor :  0.016 , flow (cfs) :  -1.964
pipe id: 6 , diameter (feet) :  0.83 , distance (feet) :  1000.0 , friction factor :  0.017 , flow (cfs) :  0.636
pipe id: 7 , diameter (feet) :  10.0 , distance (feet) :  10.0 , friction factor :  0.03 , flow (cfs) :  15.0
-----------------------------
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="interpret-results-and-discussion">
<h3>Interpret Results and Discussion<a class="headerlink" href="#interpret-results-and-discussion" title="Link to this heading">#</a></h3>
<p>The script handles calculations, the designer has to set-up the input file and create a naming convention for building the input file.  Typically would transfer output back to a visual representation as below:</p>
<figure class="align-default" id="img-6195">
<a class="reference internal image-reference" href="../../_images/IMG-6195.png"><img alt="../../_images/IMG-6195.png" src="../../_images/IMG-6195.png" style="width: 400px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 11 </span><span class="caption-text">Pipe network solution for Example 2</span><a class="headerlink" href="#img-6195" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Professional network software makes building the input file a matter of selecting elements from a menu (i.e. nodes = hamburgers, pipes = fries) and laying them out on a table.  The FGN is a soft drink piped into the network either by a straw or a french fry.</p>
</section>
</section>
<section id="example-3">
<h2>Example 3:<a class="headerlink" href="#example-3" title="Link to this heading">#</a></h2>
<p>This example is just another case.</p>
<figure class="align-default" id="example3-15">
<a class="reference internal image-reference" href="../../_images/Example3-15.png"><img alt="../../_images/Example3-15.png" src="../../_images/Example3-15.png" style="width: 400px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 12 </span><span class="caption-text">Pipe network data for Example 3</span><a class="headerlink" href="#example3-15" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>The engineer sets up the problem</p>
<figure class="align-default" id="example3-15-setup">
<a class="reference internal image-reference" href="../../_images/example3-15-setup.png"><img alt="../../_images/example3-15-setup.png" src="../../_images/example3-15-setup.png" style="width: 400px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 13 </span><span class="caption-text">Pipe network worksheet for Example 3 (US Units)</span><a class="headerlink" href="#example3-15-setup" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Following the same protocol as prior examples, build an input file</p>
<blockquote>
<div><p>L15-E3.txt</p>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">6</span>
<span class="mi">8</span>
<span class="mf">170.0</span> <span class="mf">180.0</span> <span class="mf">165.0</span> <span class="mf">155.0</span> <span class="mf">150.0</span> <span class="mf">145.0</span>
<span class="mf">0.83</span> <span class="mf">0.83</span> <span class="mf">1.00</span> <span class="mf">2.00</span> <span class="mf">0.83</span> <span class="mf">1.50</span> <span class="mf">0.83</span> <span class="mf">1.00</span>
<span class="mi">4000</span> <span class="mi">6000</span> <span class="mi">6000</span> <span class="mi">6000</span> <span class="mi">7000</span> <span class="mi">3000</span> <span class="mi">5000</span> <span class="mf">300.0</span>
<span class="mf">0.00001</span> <span class="mf">0.00001</span> <span class="mf">0.00001</span> <span class="mf">0.00001</span> <span class="mf">0.00001</span> <span class="mf">0.00001</span> <span class="mf">0.00001</span> <span class="mf">0.00001</span>
<span class="mf">0.000011</span>
<span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>
<span class="mi">1</span>   <span class="mi">0</span> <span class="o">-</span><span class="mi">1</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>
<span class="o">-</span><span class="mi">1</span> <span class="o">-</span><span class="mi">1</span>  <span class="mi">0</span> <span class="o">-</span><span class="mi">1</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">1</span>
<span class="mi">0</span>   <span class="mi">1</span>  <span class="mi">0</span>  <span class="mi">0</span> <span class="o">-</span><span class="mi">1</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>
<span class="mi">0</span>   <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">0</span>  <span class="mi">0</span> <span class="o">-</span><span class="mi">1</span>  <span class="mi">0</span>  <span class="mi">0</span>
<span class="mi">0</span>   <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">1</span>  <span class="mi">0</span>
<span class="mi">0</span>   <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">0</span> <span class="o">-</span><span class="mi">1</span>  <span class="mi">0</span>
<span class="mf">1.114</span> <span class="mf">1.114</span> <span class="mf">1.114</span> <span class="mf">3.347</span> <span class="mf">2.228</span> <span class="mf">3.347</span> <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="o">-</span><span class="mi">315</span>
</pre></div>
</div>
<p>Then run the script</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># A simple script to generate L15-E3.txt</span>
<span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;6</span>
<span class="s2">8</span>
<span class="s2">170.0 180.0 165.0 155.0 150.0 145.0</span>
<span class="s2">0.83 0.83 1.00 2.00 0.83 1.50 0.83 1.00</span>
<span class="s2">4000 6000 6000 6000 7000 3000 5000 300.0</span>
<span class="s2">0.00001 0.00001 0.00001 0.00001 0.00001 0.00001 0.00001 0.00001</span>
<span class="s2">0.000011</span>
<span class="s2">1 1 1 1 1 1 1 1 1 1 1 1</span>
<span class="s2">1   0 -1  0  0  0  0  0</span>
<span class="s2">-1 -1  0 -1  0  0  0  1</span>
<span class="s2">0   1  0  0 -1  0  0  0</span>
<span class="s2">0   0  1  0  0 -1  0  0</span>
<span class="s2">0   0  0  1  0  1  1  0</span>
<span class="s2">0   0  0  0  1  0 -1  0</span>
<span class="s2">1.114 1.114 1.114 3.347 2.228 3.347 0  0  0  0  0  0  0  -315&quot;&quot;&quot;</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;L15-E3.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Now run the simulation </span>
<span class="n">pipenet</span><span class="o">.</span><span class="n">pipenet</span><span class="p">(</span><span class="s1">&#39;L15-E3.txt&#39;</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>####ECHO INPUT################
Input File:  L15-E3.txt
number of nodes :  6
number of pipes :  8
viscosity       :  1.1e-05
-----------------------------
node id: 0 , elevation : 170.0  head : 0.0
node id: 1 , elevation : 180.0  head : 0.0
node id: 2 , elevation : 165.0  head : 0.0
node id: 3 , elevation : 155.0  head : 0.0
node id: 4 , elevation : 150.0  head : 0.0
node id: 5 , elevation : 145.0  head : -315.0
-----------------------------
pipe id: 0 , diameter :  0.83 , distance :  4000.0 , roughness :  1e-05 , flow  :  1.0
pipe id: 1 , diameter :  0.83 , distance :  6000.0 , roughness :  1e-05 , flow  :  1.0
pipe id: 2 , diameter :  1.0 , distance :  6000.0 , roughness :  1e-05 , flow  :  1.0
pipe id: 3 , diameter :  2.0 , distance :  6000.0 , roughness :  1e-05 , flow  :  1.0
pipe id: 4 , diameter :  0.83 , distance :  7000.0 , roughness :  1e-05 , flow  :  1.0
pipe id: 5 , diameter :  1.5 , distance :  3000.0 , roughness :  1e-05 , flow  :  1.0
pipe id: 6 , diameter :  0.83 , distance :  5000.0 , roughness :  1e-05 , flow  :  1.0
pipe id: 7 , diameter :  1.0 , distance :  300.0 , roughness :  1e-05 , flow  :  1.0
-----------------------------
node-arc incidence matrix
[1.0, 0.0, -1.0, 0.0, 0.0, 0.0, 0.0, 0.0]
[-1.0, -1.0, 0.0, -1.0, 0.0, 0.0, 0.0, 1.0]
[0.0, 1.0, 0.0, 0.0, -1.0, 0.0, 0.0, 0.0]
[0.0, 0.0, 1.0, 0.0, 0.0, -1.0, 0.0, 0.0]
[0.0, 0.0, 0.0, 1.0, 0.0, 1.0, 1.0, 0.0]
[0.0, 0.0, 0.0, 0.0, 1.0, 0.0, -1.0, 0.0]
-----------------------------
###EXIT TYPE###
Update not changing --exit and report current update
iteration 41
#####SIMULATION RESULTS#####
Results at iteration = : 41
number of nodes :  6
number of pipes :  8
viscosity       :  1.1e-05
-----------------------------
node id: 1 , elevation (feet) : 170.0  head (feet) : 310.612  pressure (psi) : 62.849
node id: 2 , elevation (feet) : 180.0  head (feet) : 313.389  pressure (psi) : 59.621
node id: 3 , elevation (feet) : 165.0  head (feet) : 302.355  pressure (psi) : 61.394
node id: 4 , elevation (feet) : 155.0  head (feet) : 311.838  pressure (psi) : 70.102
node id: 5 , elevation (feet) : 150.0  head (feet) : 312.555  pressure (psi) : 72.657
node id: 6 , elevation (feet) : 145.0  head (feet) : 297.841  pressure (psi) : 68.315
-----------------------------
pipe id: 1 , diameter (feet) :  0.83 , distance (feet) :  4000.0 , friction factor :  0.017 , flow (cfs) :  0.648
pipe id: 2 , diameter (feet) :  0.83 , distance (feet) :  6000.0 , friction factor :  0.017 , flow (cfs) :  1.716
pipe id: 3 , diameter (feet) :  1.0 , distance (feet) :  6000.0 , friction factor :  0.017 , flow (cfs) :  -0.466
pipe id: 4 , diameter (feet) :  2.0 , distance (feet) :  6000.0 , friction factor :  0.02 , flow (cfs) :  8.787
pipe id: 5 , diameter (feet) :  0.83 , distance (feet) :  7000.0 , friction factor :  0.017 , flow (cfs) :  0.602
pipe id: 6 , diameter (feet) :  1.5 , distance (feet) :  3000.0 , friction factor :  0.019 , flow (cfs) :  -3.813
pipe id: 7 , diameter (feet) :  0.83 , distance (feet) :  5000.0 , friction factor :  0.017 , flow (cfs) :  -2.745
pipe id: 8 , diameter (feet) :  1.0 , distance (feet) :  300.0 , friction factor :  0.017 , flow (cfs) :  12.264
-----------------------------
</pre></div>
</div>
</div>
</div>
<section id="id1">
<h3>Interpret Results and Discussion<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<p>The script handles calculations, the designer has to set-up the input file and create a naming convention for building the input file.  Typically would transfer output back to a visual representation as below:</p>
<figure class="align-default" id="example3-15solve">
<a class="reference internal image-reference" href="../../_images/example3-15solve.png"><img alt="../../_images/example3-15solve.png" src="../../_images/example3-15solve.png" style="width: 400px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 14 </span><span class="caption-text">Pipe network solution for Example 3</span><a class="headerlink" href="#example3-15solve" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="readings">
<h2>Readings<a class="headerlink" href="#readings" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Hibbeler, R.C, Fluid Mechanics, 2ed. Prentice Hall, 2018. ISBN: 9780134655413 pp. 469-490</p></li>
<li><p>DF Elger, BC Williams, Crowe, CT and JA Roberson, <em>Engineering Fluid Mechanics 10th edition</em>, John Wiley &amp; Sons, Inc., 2013. <a class="reference external" href="http://54.243.252.9/ce-3305-webroot/3-Readings/EFM-15.pdf">http://54.243.252.9/ce-3305-webroot/3-Readings/EFM-15.pdf</a></p></li>
<li><p>Cleveland, T. G. (2014) <em>Fluid Mechanics Notes to Accompany CE 3305 at Jade-Holshule (TTU Study Abroad 2015-2019)</em>, Department of Civil, Environmental, and Construction Engineering, Whitacre College of Engineering. <a class="reference external" href="http://54.243.252.9/ce-3305-webroot/3-Readings/ce3305-lecture12.pdf">http://54.243.252.9/ce-3305-webroot/3-Readings/ce3305-lecture12.pdf</a></p></li>
<li><p>Pipe Networks Chin, D. (2006). pp. 27-48 in “Water Resources Engineering, 2 ed.” Prentice Hall, Inc. <a class="reference external" href="http://54.243.252.9/ce-3372-webroot/3-Readings/Chin_27-48/">Chin_27-48</a></p></li>
<li><p>Hydraulics of Pipelines and Pipe Networks Wurbs, R.A., and James, W. P. (2002) Water Resources Engineering, Prentice Hall; pp.130-156; and 156-198. <a class="reference external" href="http://54.243.252.9/ce-3372-webroot/3-Readings/Wurbs130-198/">Wurbs and James</a></p></li>
<li><p>Hamam, Y.M., and Brameller, A. (1971) “Hybrid method for the solution of piping networks.” Proc. IEEE, Vol. 118, No. 11, pp 1607-1612. <a class="reference external" href="http://54.243.252.9/ce-3372-webroot/3-Readings/HamamAndBrameller/">HamamAndBrameller</a></p></li>
<li><p>Jeppson, R.W. (1977) Analysis of Flow in Pipe Networks, Ann Arbor Science pp. 115-129 <a class="reference external" href="http://54.243.252.9/ce-3372-webroot/3-Readings/NewtonRaphsonTheory/">NewtonRaphsonTheory</a></p></li>
<li><p>Jeppson, R.W. (1977) Analysis of Flow in Pipe Networks, Ann Arbor Science pp. 53-69 <a class="reference external" href="http://54.243.252.9/ce-3372-webroot/3-Readings/FlowInPipeNetworks/">FlowInPipeNetworks</a></p></li>
<li><p>Computational Hydraulics in R (for CE 3305) <a class="reference external" href="http://54.243.252.9/ce-3372-webroot/3-Readings/CFMinR/">PCHinR</a></p></li>
<li><p>Yoo, D.H. and Singh V. P. (2005) Two Methods for the Computation of Commercial Pipe Friction Factors. ASCE Journal of Hydraulic Engineering, 2005, 131(8): 694-704 <a class="reference external" href="http://54.243.252.9/ce-3372-webroot/3-Readings/FrictionFactor/">FrictionFactors</a></p></li>
</ol>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./lessons/lesson01"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="pythonhydraulics.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">1.4 Hydraulics in Python</p>
      </div>
    </a>
    <a class="right-next"
       href="pythonpumpingmodule.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">1.6 Pumps</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#example-2">Example 2:</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#known">Known</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#unknown">Unknown</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#governing-principles">Governing Principles</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analysis">Analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#build-input-file">Build Input File</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#interpret-results-and-discussion">Interpret Results and Discussion</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#example-3">Example 3:</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Interpret Results and Discussion</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#readings">Readings</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Theodore G. Cleveland, Ph.D., P.E., M.ASCE, F.EWRI
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>